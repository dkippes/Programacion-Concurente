Ejercicio 1. Implementar un monitor Contador que permita incrementar y decrementar con-
currentemente de forma segura.

monitor Contador {
    int contador;

    incrementar() {
        contador++;
    }

    decrementar() {
        contador--;
    }
}



class Database { // prioridad escritores
    int writers = 0;
    int readers = 0;
    int waitingWriters = 0;
    boolean canRead() {
        return writers == 0 && waitingWriters == 0;
    }
    boolean canWrite() {
        return writers == 0 && readers == 0;
    }
    beginRead() {
        while(!canRead()) {
            wait();
        }
        readers ++;
    }
    endRead() {
        readers--;
        if(readers == 0) {
            notify();
        }
    }
    beginWrite() {
        waitingWriters++;
        while(!canWrite()) {
            wait();
        }
        waitingWriters--;
        writers = 1;
    }
    endWrite() {
        writers = 0;
        notifyAll();
    }
}

